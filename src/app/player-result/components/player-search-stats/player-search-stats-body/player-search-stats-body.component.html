<app-achievement-modal [playerResult]="playerResult"></app-achievement-modal>
<app-clan-modal [playerResult]="playerResult" [clanInfo]="clanInfo"></app-clan-modal>

<div class="row">
  <div class="col-sm-3" *ngIf="hasTrophies()">
    <div class="offset-xl-9 offset-lg-10 offset-md-10 offset-sm-10">
      <img *ngIf="trophyHomeImg" class="trophy-item" [src]="trophyHomeImg"/>
      <div class="trophy-panel border-left-0 rounded">
        <span class="trophy-text font-weight-bold">{{playerResult.trophies}}</span>
      </div>
    </div>
  </div>
  <div class="col-sm-3" *ngIf="hasVersusTrophies()">
    <div class="offset-xl-9 offset-lg-10 offset-md-10 offset-sm-10">
      <img *ngIf="trophyNightImg" class="trophy-item" [src]="trophyNightImg"/>
      <div class="trophy-panel border-left-0 rounded">
        <span class="trophy-text font-weight-bold">{{playerResult.versusTrophies}}</span>
      </div>
    </div>
  </div>
  <div class="col-sm-3" *ngIf="hasLegendLeagueExperienced()">
    <div class="offset-xl-9 offset-lg-10 offset-md-10 offset-sm-10">
      <img *ngIf="trophyLegendImg" class="trophy-item" [src]="trophyLegendImg"/>
      <div class="trophy-panel border-left-0 rounded">
        <span class="trophy-text font-weight-bold">{{playerResult.legendStatistics.legendTrophies}}</span>
      </div>
    </div>
  </div>
</div>

<div class="mt-4">
  <div *ngIf="playerResult">
    <app-troops-and-spells [playerResult]="playerResult"></app-troops-and-spells>
  </div>
</div>

<div class="mt-4 row">
  <div class="col-sm-5">
    <div class="card offset-xl-3 offset-lg-1">
      <div class="card-body" (click)="achievementModal.open()">
        <h4 class="card-title">Achievements</h4>
        <p id="cardDescriptionAchievements">All Achievements completed? Have a look about war stars, best trophies and
          some other achievements in a short overview</p>
      </div>
    </div>
  </div>
  <div class="col-sm-5">
    <div class="card" [ngClass]="{'disabled-card': !playerResult.clan}">
      <div class="card-body" *ngIf="playerResult.clan" (click)="clanModal.open()">
        <h4 class="card-title">Clan</h4>
        <p>Have a brief look on clan information and clan members.
          For a detailed Overview like war stats, war logs, detailed player stats comparison -
          use the clan search feature</p>
        <button class="clanSearchButton btn btn-sm btn-orange" (click)="clanSearch()">Clan search</button>
      </div>
      <div class="card-body" *ngIf="!playerResult.clan">
        <h4 class="card-title">Clan</h4>
        <p class="player-info-font font-weight-bold"><i>No clan available</i></p>
      </div>
    </div>
  </div>
  <div class="col-sm-2">
    <div class="text-center mt-2">
      <div>
        <span *ngIf="playerBefore" class="font-weight-bold">{{playerBefore.name}}</span>
      </div>
      <div class="center-arrows">
        <i fa class="angle-up" [name]="'angle-up'" [size]="5" (click)="routeToPlayerBefore()"
           [ngClass]="(!playerResult.clan || !playerBefore) ? 'disabled-angle-up': ''"></i>
        <br>
        <i fa class="angle-down" [name]="'angle-down'" [size]="5" (click)="routeToPlayerNext()"
           [ngClass]="(!playerResult.clan || !playerNext) ? 'disabled-angle-down': ''"></i>
      </div>
      <div>
        <span *ngIf="playerNext" class="font-weight-bold">{{playerNext.name}}</span>
      </div>
    </div>
  </div>
</div>
